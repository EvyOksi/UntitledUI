-- UntitledUI Library - Mobile Optimized UI Framework

local UntitledUI = {}

-- Utility Function to Apply UI Corner Radius
local function applyUICorner(element, radius)
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, radius or 5)
    corner.Parent = element
end

-- Create a Frame with Customizable Settings
function UntitledUI:CreateFrame(parent, size, position, bgColor, borderSize, cornerRadius, zIndex)
    local frame = Instance.new("Frame")
    frame.Size = size or UDim2.new(0, 200, 0, 100)
    frame.Position = position or UDim2.new(0.5, -100, 0.5, -50)
    frame.BackgroundColor3 = bgColor or Color3.fromRGB(40, 40, 40)
    frame.BorderSizePixel = borderSize or 0
    frame.ZIndex = zIndex or 1
    applyUICorner(frame, cornerRadius)
    frame.Parent = parent
    return frame
end

-- Create a TextButton with Custom Settings
function UntitledUI:CreateButton(parent, text, size, position, callback)
    local button = Instance.new("TextButton")
    button.Size = size or UDim2.new(0, 200, 0, 50)
    button.Position = position or UDim2.new(0.5, -100, 0.5, -25)
    button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Font = Enum.Font.Gotham
    button.TextSize = 14
    button.Text = text
    applyUICorner(button)
    
    -- Button Hover Effects
    button.MouseEnter:Connect(function()
        button.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    end)
    button.MouseLeave:Connect(function()
        button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    end)

    -- Button Click Event
    button.MouseButton1Click:Connect(function()
        if callback then callback() end
    end)

    button.Parent = parent
    return button
end

-- Create a Tab within the UI
function UntitledUI:CreateTab(parent, tabName)
    local tab = Instance.new("Frame")
    tab.Size = UDim2.new(0, 200, 0, 100)
    tab.Position = UDim2.new(0.5, -100, 0.5, -50)
    tab.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    applyUICorner(tab)
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, 0, 0.2, 0)
    label.Text = tabName
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.Font = Enum.Font.Gotham
    label.TextSize = 18
    label.Parent = tab

    tab.Parent = parent
    return tab
end

-- Create a Section inside a Tab
function UntitledUI:CreateSection(parent, sectionName)
    local section = Instance.new("Frame")
    section.Size = UDim2.new(1, 0, 0.7, 0)
    section.Position = UDim2.new(0, 0, 0.2, 0)
    section.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    applyUICorner(section)
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, 0, 0.1, 0)
    label.Text = sectionName
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.Font = Enum.Font.Gotham
    label.TextSize = 16
    label.Parent = section

    section.Parent = parent
    return section
end

-- Create a Dropdown Menu
function UntitledUI:CreateDropdownMenu(parent, options, callback)
    local dropdownFrame = Instance.new("Frame")
    dropdownFrame.Size = UDim2.new(1, 0, 0.05, 0)
    dropdownFrame.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    applyUICorner(dropdownFrame)
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(0.8, 0, 1, 0)
    label.Text = "Select Option"
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.Font = Enum.Font.Gotham
    label.TextSize = 14
    label.Parent = dropdownFrame
    
    local dropdownButton = Instance.new("TextButton")
    dropdownButton.Size = UDim2.new(0.2, 0, 1, 0)
    dropdownButton.Position = UDim2.new(0.8, 0, 0, 0)
    dropdownButton.Text = "â–¼"
    dropdownButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    dropdownButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    dropdownButton.Font = Enum.Font.Gotham
    dropdownButton.TextSize = 14
    dropdownButton.Parent = dropdownFrame
    
    local dropdownList = Instance.new("Frame")
    dropdownList.Size = UDim2.new(1, 0, 0, #options * 30)
    dropdownList.Position = UDim2.new(0, 0, 1, 0)
    dropdownList.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    dropdownList.Visible = false
    dropdownList.Parent = dropdownFrame
    
    for _, option in ipairs(options) do
        local optionButton = Instance.new("TextButton")
        optionButton.Size = UDim2.new(1, 0, 0, 30)
        optionButton.Text = option
        optionButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
        optionButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        optionButton.Font = Enum.Font.Gotham
        optionButton.TextSize = 14
        optionButton.Parent = dropdownList

        optionButton.MouseButton1Click:Connect(function()
            dropdownButton.Text = option
            dropdownList.Visible = false
            if callback then callback(option) end
        end)
    end
    
    dropdownButton.MouseButton1Click:Connect(function()
        dropdownList.Visible = not dropdownList.Visible
    end)

    dropdownFrame.Parent = parent
    return dropdownFrame
end

-- Create a Textbox for User Input
function UntitledUI:CreateTextbox(parent, placeholderText, callback)
    local textbox = Instance.new("TextBox")
    textbox.Size = UDim2.new(1, -20, 0.05, 0)
    textbox.Position = UDim2.new(0.05, 0, 0.05 + (#parent:GetChildren() * 0.06), 0)
    textbox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    textbox.TextColor3 = Color3.fromRGB(255, 255, 255)
    textbox.Font = Enum.Font.Gotham
    textbox.TextSize = 14
    textbox.PlaceholderText = placeholderText
    applyUICorner(textbox)
    
    textbox:GetPropertyChangedSignal("Text"):Connect(function()
        if callback then callback(textbox.Text) end
    end)
    
    textbox.Parent = parent
    return textbox
end

-- Create a Toggle (Checkbox-like behavior)
function UntitledUI:CreateToggle(parent, toggleText, callback)
    local toggleFrame = Instance.new("Frame")
    toggleFrame.Size = UDim2.new(0.5, -20, 0.05, 0)
    toggleFrame.Position = UDim2.new(0.05 + (#parent:GetChildren() * 0.06), 0, 0.05, 0)
    toggleFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    applyUICorner(toggleFrame)

    local toggleLabel = Instance.new("TextLabel")
    toggleLabel.Size = UDim2.new(0.8, 0, 1, 0)
    toggleLabel.Text = toggleText
    toggleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    toggleLabel.Font = Enum.Font.Gotham
    toggleLabel.TextSize = 14
    toggleLabel.Parent = toggleFrame

    local toggleButton = Instance.new("TextButton")
    toggleButton.Size = UDim2.new(0.2, 0, 1, 0)
    toggleButton.Position = UDim2.new(0.8, 0, 0, 0)
    toggleButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    toggleButton.Text = "OFF"
    toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    toggleButton.Font = Enum.Font.Gotham
    toggleButton.TextSize = 14
    toggleButton.Parent = toggleFrame

    local isOn = false
    toggleButton.MouseButton1Click:Connect(function()
        isOn = not isOn
        toggleButton.Text = isOn and "ON" or "OFF"
        toggleButton.BackgroundColor3 = isOn and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
        if callback then callback(isOn) end
    end)

    toggleFrame.Parent = parent
    return toggleFrame
end

return UntitledUI
